// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var data, tree;
    data = [
      {
        id: 1,
        label: "node1",
        elmClass: "icon-folder icon-doctype icon-folder-open",
        children: [
          {
            id: 2,
            label: "child1",
            elmClass: "icon-filetype icon-doctype icon-columns"
          }, {
            id: 3,
            label: "child2",
            elmClass: "icon-filetype icon-doctype icon-columns"
          }
        ]
      }, {
        id: 4,
        label: "node2",
        elmClass: "icon-folder icon-doctype icon-folder-open",
        children: [
          {
            id: 5,
            label: "child3"
          }
        ]
      }, {
        id: 6,
        label: "node3",
        elmClass: "icon-folder icon-doctype icon-folder-open",
        children: []
      }
    ];
    tree = $(".js-tree");
    tree.tree({
      data: data,
      autoOpen: false,
      dragAndDrop: true,
      saveState: true,
      closedIcon: "",
      openedIcon: "",
      onCreateLi: function(node, $li) {
        if ($li.hasClass("jqtree-folder")) {
          $li.addClass("folder");
        }
        $li.find(".jqtree-title").addClass(node.elmClass);
        return $li.find(".jqtree-toggler").addClass("icon-caret-down");
      }
    });
    tree.bind("tree.contextmenu", function(event) {
      var node;
      node = event.node;
      return alert(node.name + " id: " + node.id + " class: " + node.elmClass);
    });
    return tree.bind("tree.move", function(event) {
      console.log("moved_node", event.move_info.moved_node);
      console.log("target_node", event.move_info.target_node);
      console.log("position", event.move_info.position);
      return console.log("previous_parent", event.move_info.previous_parent);
    });
  });

}).call(this);
